
<!DOCTYPE html>


<html lang="ru" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Управление правилами трафика &#8212; Ideco NGFW</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=3ee479438cf8b5e0d341" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=3ee479438cf8b5e0d341"></script>

    <script src="../../../_static/documentation_options.js?v=576a2c22"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../../_static/translations.js?v=29b1f277"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'repo/docsUTM/api/access-rules-api';</script>
    <link rel="index" title="Алфавитный указатель" href="../../../genindex.html" />
    <link rel="search" title="Поиск" href="../../../search.html" />
    <link rel="next" title="1. DHCP-сервер" href="dhcp-api.html" />
    <link rel="prev" title="1. Управление пользователями и группами" href="user-management-api.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="ru"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Перейти к основному содержанию</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../../../index.html">Оглавление</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">1. Об Ideco NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/license.html">1. Лицензирование</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/data-update-source-ideco-utm.html">1. Cистемные требования и источники обновления данных Ideco NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/technical-support.html">1. Техническая поддержка</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/tips-for-initial-setup.html">1. Рекомендации при первоначальной настройке</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/initial-action-my-ideco.html">1. Личный кабинет my.ideco</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/preparation-install.html">1. Подготовка к установке на устройство</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/specifics-of-hypervisor-settings.html">1. Настройка гипервизора</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/usb.html">1. Создание загрузочного USB flash-диска</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation-process.html">1. Установка</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/initial-setup.html">1. Первоначальная настройка</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/server-registration.html">1. Регистрация сервера</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor-panel.html">1. Панель мониторинга</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/README.html">1. Пользователи</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/user-tree/README.html">1. Учетные записи</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/user-tree/user-management.html">1. Управление пользователями</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/user-tree/customization-of-users.html">1. Настройка пользователей</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/README.html">1. Авторизация пользователей</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/web-authorization.html">1. Веб-аутентификация</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/ip-and-mac-authorization/README.html">1. IP и MAC авторизация</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/ip-and-mac-authorization/ip-authorization.html">1. Авторизация по IP-адресу</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/ip-and-mac-authorization/mac-authorization.html">1. Авторизация по MAC-адресу</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/authorization-by-subnet.html">1. Авторизация по подсетям</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/terminal-server.html">1. Авторизация пользователей терминальных серверов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/user-personal-account.html">1. Личный кабинет пользователя</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/README.html">1. VPN-подключения</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/two-factor-authentication.html">1. Двухфакторная аутентификация</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/pptp.html">1. Подключение по PPTP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/pppoe.html">1. Подключение по PPPoE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/ipsec-ikev2.html">1. Подключение по IKEv2/IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/sstp.html">1. Подключение по SSTP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/l2tp-ipsec.html">1. Подключение по L2TP/IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/features.html">1. Особенности маршрутизации и организации доступа</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/authorization/vpn-connection/running-powershell-scripts.html">1. Инструкция по запуску PowerShell скриптов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/ideco-client/README.html">1. Ideco Client</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/ideco-client/ideco-client-windows.html">1. Установка и настройка Ideco Client на Windows</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/ideco-client/ideco-client-macos.html">1. Установка и настройка Ideco Client на MacOS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/hip-profiles.html">1. Профили устройств</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/active-directory/README.html">1. Интеграция с Microsoft Active Directory/Samba DC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/active-directory/entering-the-server-into-the-domain.html">1. Ввод сервера в домен</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/active-directory/active-directory-user-authorization.html">1. Аутентификация пользователей AD/Samba DC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/active-directory/auto-de-authorization-script.html">1. Скрипты автоматической разавторизации</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/active-directory/user-import.html">1. Импорт пользователей</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/radius.html">1. Интеграция с RADIUS-сервером</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/ald-pro.html">1. ALD Pro</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/device-discovery.html">1. Обнаружение устройств</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/users/wifi-network.html">1. Wi-Fi-сети</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/README.html">1. Мониторинг</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/authorized-users.html">1. Авторизованные пользователи</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/workload-schedule.html">1. График загруженности</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/traffic.html">1. Монитор трафика</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/telegram-bot.html">1. Telegram-бот</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/snmp.html">1. SNMP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/monitor/zabbix.html">1. Интеграция с Zabbix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/README.html">1. Правила трафика</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/firewall.html">1. Файрвол</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/firewall-tables.html">1. Таблицы файрвола (FORWARD, DNAT, INPUT и SNAT)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/logging.html">1. Логирование</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/application-control.html">1. Контроль приложений</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/content-filter/README.html">1. Контент-фильтр</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/content-filter/custom-categories.html">1. Описание категорий контент-фильтра</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/content-filter/filtering-https-traffic.html">1. Настройка фильтрации HTTPS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/content-filter/block-page.html">1. Изменение страницы блокировки Контент-фильтра</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/shaper.html">1. Ограничение скорости</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/antivirus.html">1. Антивирусы веб-трафика</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/ips/README.html">1. Предотвращение вторжений</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/ips/log.html">1. Журнал</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/ips/rules.html">1. Правила</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/ips/exceptions-rules.html">1. Исключения из правил</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/ips/settings.html">1. Настройки</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/ips/user-ip-exceptions.html">1. Исключения</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/aliases.html">1. Объекты</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/access-rules/quotas.html">1. Квоты</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/README.html">1. Сервисы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/README.html">1. Сетевые интерфейсы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/local-ethernet.html">1. Настройка Локального Ethernet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/ethernet-connection.html">1. Настройка Внешнего Ethernet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/pptp-connection.html">1. Подключение по PPTP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/l2tp-connection.html">1. Настройка подключения по L2TP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/pppoe-connection.html">1. Подключение по PPPoE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/connection-to-provider/3g-4g-connection.html">1. Подключение по 3G и 4G</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/multiple-simultaneous-connections.html">1. Балансировка и резервирование</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/routing.html">1. Маршрутизация</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/bgp.html">1. BGP</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ospf.html">1. OSPF</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/igmp.html">1. IGMP Proxy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/proxy/README.html">1. Прокси</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/proxy/exclusions.html">1. Исключения</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/proxy/direct-connection-proxy.html">1. Настройка прямого подключения к прокси</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/proxy/proxy-single-interface.html">1. Настройка прокси с одним интерфейсом</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/reverse-proxy.html">1. Обратный прокси</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/dns/README.html">1. DNS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/dns/dns-external.html">1. Внешние DNS-серверы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/dns/master-zon.html">1. Master-зоны</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/dns/forward-zon.html">1. Forward-зоны</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/dns/ddns.html">1. DDNS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/dhcp.html">1. DHCP-сервер</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ntp.html">1. NTP-сервер</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/README.html">1. IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/ipsec-utm-to-utm-tunnel.html">1. Подключение между двумя Ideco NGFW в туннельном режиме работы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/ipsec-utm-to-utm-transport.html">1. Подключение между двумя Ideco NGFW в транспортном режиме работы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/site-to-site-ideco-mikrotik.html">1. Подключение Ideco NGFW и MikroTik</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/utm-to-mikrotik-vpn.html">1. Подключение MikroTik и Ideco NGFW по L2TP/IPsec и IKev2/IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/connect-utm-to-cisco-via-ipsec.html">1. Подключение Cisco IOS и Ideco NGFW по IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/ipsec-connection-pfsense-to-utm.html">1. Подключение pfSense к Ideco NGFW по IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/ipsec-connection-kerio-control-to-utm.html">1. Подключение Kerio Control и Ideco NGFW по IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/keenetic-connection.html">1. Подключение Keenetic по SSTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/ipsec/site-to-site/keenetic-connection.html#keenetic-ipsec">2. Подключение Keenetic по IPsec</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/certificates/README.html">1. Сертификаты</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/certificates/upload-ssl-certificate-to-server.html">1. Загрузка SSL-сертификата на сервер</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/certificates/creating-ssl-sert-powershell.html">1. Создание самоподписанного сертификата c помощью PowerShell</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/services/certificates/creating-openssl-cert.html">1. Создание самоподписанного сертификата c помощью openssl</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/README.html">1. Отчеты и журналы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/traffic.html">1. Трафик</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/logs.html">1. Журнал событий</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/web-logs.html">1. Журнал веб-доступа</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/antivirus-logs.html">1. Журнал антивируса</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/security-events.html">1. События безопасности</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/administrator-actions.html">1. Действия администраторов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/authorization-log.html">1. Журнал авторизации</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/report-designer.html">1. Конструктор отчетов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/reports/syslog.html">1. Syslog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/README.html">1. Управление сервером</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/admins.html">1. Администраторы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/central-console.html">1. Центральная консоль</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/vce.html">1. VCE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/cluster.html">1. Кластеризация</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/server-update.html">1. Автоматическое обновление</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/server-update.html#id2">2. Процесс выхода релизов в каналы обновлений</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/server-update.html#ngfw">3. Особенности обновления NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/backup.html">1. Бекапы на удаленное файловое хранилище по протоколу FTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/backup.html#netbios-cifs">2. Бекапы на сетевое файловое хранилище по протоколу NetBIOS (CIFS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/backup.html#id1">3. Бекапы на локальный жесткий диск</a></li>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/backup.html#id2">4. Восстановление конфигурации из бекапа</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/terminal.html">1. Терминал</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/license-management.html">1. Лицензия</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/server-management/additionally.html">1. Дополнительно</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/README.html">1. Почтовый релей</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/mail-server-settings/README.html">1. Основные настройки</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/mail-server-settings/web-mail.html">1. Web-почта</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/mail-server-settings/mail-relay-settings.html">1. Настройка почтового релея</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/mail-server-settings/mail-server-settings.html">1. Настройка почтового сервера</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/advanced-settings/README.html">1. Расширенные настройки</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/advanced-settings/domain-settings-at-zone-holder.html">1. Настройка домена у регистратора/держателя зоны</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/antispam.html">1. Антиспам</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/regulations/README.html">1. Правила</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/regulations/mail-forwarding.html">1. Переадресация почты</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/mail-queue.html">1. Почтовая очередь</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/configuring-email-clients.html">1. Настройка почтовых клиентов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/mail/filtering-scheme-for-mail-traffic.html">1. Схема фильтрации почтового трафика</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/publishing-resources/README.html">1. Публикация ресурсов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/publishing-resources/access-from-external-network-without-nat.html">1. Доступ из внешней сети без NAT</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/publishing-resources/publishing-web-applications.html">1. Публикация веб-приложений (обратный прокси-сервер)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/publishing-resources/configure-public-ip-on-computer-on-the-local-net.html">1. Настройка публичного IP-адреса на компьютере в локальной сети</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/publishing-resources/portmapping.html">1. Портмаппинг (проброс портов, DNAT)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings/skydns.html">1. Интеграция NGFW и SkyDNS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-my/README.html">1. О личном кабинете MY.IDECO</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-my/ngfw.html">1. NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-my/bot-security.html">1. Monitoring Bot и Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-my/personal-details-and-companies.html">1. Личные данные и Компании</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/README.html">1. Об Ideco Center</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/setup.html">1. Установка Ideco Center</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/servers.html">1. Серверы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/monitor.html">1. Мониторинг</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/policies-and-objects.html">1. Политики и объекты</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/services.html">1. Сервисы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/reports.html">1. Отчеты и журналы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../settings-cc/server-management.html">1. Управление сервером</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/README.html">1. FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/remote-assistant.html">1. Режим удаленного помощника</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/allow-internet-all.html">1. Разрешить интернет всем: диагностика неполадок</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/remote-access-for-server-management.html">1. Удаленный доступ к серверу</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/memory-testing.html">1. Тестирование оперативной памяти сервера</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/README.html">1. Инструкции по созданию VPN-подключений</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-ubuntu.html">1. Создание VPN-подключения в Ubuntu</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-fedora.html">1. Инструкция по созданию подключения в Fedora</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-astra-linux.html">1. Инструкция по созданию подключения в Astra Linux</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/auto-connect.html">1. Автоматическое создание подключений</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-windows10.html">1. Инструкция по созданию подключения в Windows 10</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-windows7.html">1. Создание подключения в Windows 7</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-mobile-devices.html">1. Инструкция по созданию VPN-подключения на мобильных устройствах</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/connection-for-high-sierra-macos.html">1. Инструкция по созданию подключения в Mac OS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vpn/sstp-connecting-keenetic-wi-fi-routers.html">1. Подключение по SSTP Wi-Fi-роутеров Keenetic</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/access-to-remote-networks.html">1. Как избавиться от асимметричной маршрутизации трафика</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/dnsbl-list.html">1. Что делать если IP попал в черные списки DNSBL</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/restore-access-to-ideco-utm.html">1. Как восстановить доступ к Ideco NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/go-back.html">1. Как восстановиться на прошлую версию после обновления Ideco NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/security-ideco.html">1. Проверка настроек фильтрации с помощью security ideco</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/choosing-hardware-platform.html">1. Выбор аппаратной платформы для Ideco NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/legacy-encryption-support.html">1. Поддержка устаревших алгоритмов шифрования</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/configuring-proxifier.html">1. Настройка программы Proxifier для прямых подключений к прокси серверу</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/blocking-popular-resources.html">1. Блокировка популярных ресурсов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/authorization-astra-linux.html">1. Настройка прозрачной авторизации на Astra linux</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/auto-authorization-linux.html">1. Инструкция по настройке автоматической веб-аутентификации на Ideco NGFW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/auto-authorization-linux.html#id1">2. Настройка автозагрузки скрипта</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/transferring-data-to-another-server.html">1. Перенос данных и настроек на другой сервер</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/processing-order.html">1. Порядок обработки веб-трафика в Ideco NGFW</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/integrity.html">1. Интеграция Ideco NGFW и брокера сетевых пакетов DS Integrity NG</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/vipnet-coordinator.html">1. Рекомендации по настройке NGFW для работы совместно с ViPNet-координатором</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/block-chat-bot.html">1. Блокировка чат-ботов</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/open-ports.html">1. Доступные из внешней сети</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/open-ports.html#id2">2. Доступные из локальной сети</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/popular-recipes/open-ports.html#id3">3. Как проверить, открыт ли порт</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/problem-diagnosis/README.html">1. Диагностика проблем</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/problem-diagnosis/site-does-not-open.html">1. Ошибка при открытии сайта ERR_CONNECTION_TIMED_OUT или Не открывается сайт</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/problem-diagnosis/what-to-do-if-the-internet-does-not-work.html">1. Что делать, если не работает интернет</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/problem-diagnosis/old-browser.html">1. Ошибка при авторизации «The browser is outdated»</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../recipes/problem-diagnosis/ipsec.html">1. Если соединение по IPsec не устанавливается</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="description-of-handlers.html">1. Описание основных хендлеров</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="active-directory-api.html">1. Управление интеграцией с Active Directory</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-management-api.html">1. Управление пользователями и группами</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Управление правилами трафика</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">1.1. Файрвол</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">1.2. Включенность пользовательских правил</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">1.2.1. Логирование правил</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">1.2.2. Управление правилами</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">1.2.3. Счетчик срабатывания правил</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id7">1.3. Контроль приложений</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">1.4. Предотвращение вторжений</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">1.5. Контент-фильтр</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">1.5.1. Проверить включенность</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">1.5.2. Включить/выключить Контент-фильтр</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">1.5.3. Настройки</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">1.5.4. Категории Контент-фильтра</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">1.5.5. Правила Контент-фильтра</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id15">1.6. Квоты</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dhcp-api.html">1. DHCP-сервер</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dns-api.html">1. DNS-сервер</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="logs-api.html">1. Настройка удаленной передачи системных логов (Syslog)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cc-api.html">1. Центральная консоль</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="backup-api.html">1. Бекапы</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/README.html">1. Примеры использования</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/editing-a-custom-category.html">1. Редактирование пользовательской категории контент-фильтра</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/creating-a-forward-rule.html">1. Создание правила Forward</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog/ideco-utm/README.html">1. Ideco NGFW 17.X</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog/cc/README.html">1. Ideco Center 17.Х</a></li>
</ul>
</div>
        <div class="sidebar-primary-item">

  <div class="tocsection sourcelink">
    <a href="../../../_sources/repo/docsUTM/api/access-rules-api.md">
      <i class="fa-solid fa-file-lines"></i> Исходный текст
    </a>
  </div>
</div>
        <div class="sidebar-primary-item">
<div id="searchbox"></div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Загрузите эту страницу">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/repo/docsUTM/api/access-rules-api.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Скачать исходный файл"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Распечатать в PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Полноэкранный режим"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="светлая/темная" aria-label="светлая/темная" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Поиск" aria-label="Поиск" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Управление правилами трафика</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Содержание </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1.1. Файрвол</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">1.2. Включенность пользовательских правил</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">1.2.1. Логирование правил</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">1.2.2. Управление правилами</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">1.2.3. Счетчик срабатывания правил</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">1.3. Контроль приложений</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">1.4. Предотвращение вторжений</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">1.5. Контент-фильтр</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">1.5.1. Проверить включенность</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">1.5.2. Включить/выключить Контент-фильтр</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">1.5.3. Настройки</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">1.5.4. Категории Контент-фильтра</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">1.5.5. Правила Контент-фильтра</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">1.6. Квоты</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="id1">
<h1><span class="section-number">1. </span>Управление правилами трафика<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>API правил трафика Ideco Center описано в статье <a class="reference internal" href="#/api/cc-api.md"><span class="xref myst">Центральная консоль</span></a>.</p>
<section id="id2">
<h2><span class="section-number">1.1. </span>Файрвол<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<details>
<summary>Получение статуса службы</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">firewall</span><span class="o">/</span><span class="n">status</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;rules-in-kernel&quot;</span><span class="p">,</span>
      <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active|activating|deactivating|failed|inactive|reloading&quot;</span><span class="p">,</span>
      <span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>  <span class="p">(</span><span class="n">Список</span> <span class="n">строк</span><span class="p">,</span> <span class="n">поясняющих</span> <span class="n">текущее</span> <span class="n">состояние</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="p">{</span>
        <span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;auto-snat&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</details>
<details>
<summary>Получение настроек Файрвола</summary>
</section>
<section id="id3">
<h2><span class="section-number">1.2. </span>Включенность пользовательских правил<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">firewall</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span>
<span class="p">}</span> 
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - Опция раздела Файрвол включен (true) или
отключен (false).</p></li>
</ul>
<section id="id4">
<h3><span class="section-number">1.2.1. </span>Логирование правил<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">firewall</span><span class="o">/</span><span class="n">settings</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;automatic_snat_enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;log_actions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;accept&quot;</span> <span class="o">|</span> <span class="s2">&quot;drop&quot;</span> <span class="o">|</span> <span class="s2">&quot;dnat&quot;</span> <span class="o">|</span> <span class="s2">&quot;snat&quot;</span><span class="p">],</span>
    <span class="s2">&quot;log_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span> 
</pre></div>
</div>
</details>
<details>
<summary>Изменение настроек</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">firewall</span><span class="o">/</span><span class="n">settings</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;automatic_snat_enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;log_actions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;accept&quot;</span> <span class="o">|</span> <span class="s2">&quot;drop&quot;</span> <span class="o">|</span> <span class="s2">&quot;dnat&quot;</span> <span class="o">|</span> <span class="s2">&quot;snat&quot;</span><span class="p">],</span>
    <span class="s2">&quot;log_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span> 
</pre></div>
</div>
<p><strong>Ответ на успешный запрос</strong>: 200 ОК</p>
</details>
</section>
<section id="id5">
<h3><span class="section-number">1.2.2. </span>Управление правилами<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<details>
<summary>Получение списка правил</summary>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/rules/forward</span></code> - раздел FORWARD;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/rules/input</span></code> - раздел INPUT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/rules/dnat</span></code> - раздел DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/rules/snat</span></code> - раздел SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/rules/log</span></code> - раздел Логирование.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;accept&quot;</span> <span class="o">|</span> <span class="s2">&quot;drop&quot;</span> <span class="o">|</span> <span class="s2">&quot;dnat&quot;</span> <span class="o">|</span> <span class="s2">&quot;snat&quot;</span> <span class="p">(</span><span class="s2">&quot;mark_log&quot;</span> <span class="o">|</span> <span class="s2">&quot;mark_not_log&quot;</span> <span class="n">для</span> <span class="n">раздела</span> <span class="n">Логирование</span><span class="p">),</span>
        <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;destination_addresses&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span> 
        <span class="s2">&quot;destination_addresses_negate&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
        <span class="s2">&quot;destination_ports&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
        <span class="s2">&quot;hip_profiles&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;incoming_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;outgoing_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;protocol&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;source_addresses&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;source_addresses_negate&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
        <span class="s2">&quot;timetable&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;action&quot;</span></code> - действие:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;accept&quot;</span></code> - разрешить;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;drop&quot;</span></code> - запретить;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dnat&quot;</span></code> - производить DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;snat&quot;</span></code> - производить SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;mark_log&quot;</span></code> - логировать;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;mark_not_log&quot;</span></code> - не логировать;</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;comment&quot;</span></code> - комментарий (может быть пустым);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;destination_addresses&quot;</span></code> - адрес назначения;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;destination_addresses_negate&quot;</span></code> - инвертировать адрес назначения;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;destination_ports&quot;</span></code> - порты назначения;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;enabled&quot;</span></code> - включено (true) или выключено (false) правило;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hip_profiles&quot;</span></code> - HIP-профили;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;incoming_interface&quot;</span></code> - зона источника;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;outgoing_interface&quot;</span></code> - зона назначения;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;parent_id&quot;</span></code> - идентификатор группы в Ideco Center, в которую входит сервер, или константа «f3ffde22-a562-4f43-ac04-c40fcec6a88c» (соответствует Корневой группе);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;protocol&quot;</span></code> - протокол;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;source_addresses&quot;</span></code> - адрес источника;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;source_addresses_negate&quot;</span></code> - инвертировать адрес источника;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;timetable&quot;</span></code> - время действия;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;id&quot;</span></code> - идентификатор правила.</p></li>
</ul>
</details>
<details>
<summary>Добавление правила</summary>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/firewall/rules/forward?anchor_item_id=123&amp;insert_after={true|false}</span></code> - раздел FORWARD;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/firewall/rules/input?anchor_item_id=123&amp;insert_after={true|false}</span></code> - раздел INPUT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/firewall/rules/dnat?anchor_item_id=123&amp;insert_after={true|false}</span></code> - раздел DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/firewall/rules/snat?anchor_item_id=123&amp;insert_after={true|false}</span></code> - раздел SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/firewall/rules/log?anchor_item_id=123&amp;insert_after={true|false}</span></code> - раздел Логирование.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code> - идентификатор правила, ниже или выше которого нужно создать новое. Если отсутствует, то новое правило будет добавлено в конец таблицы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insert_after</span></code> - вставка до или после. Если значение <code class="docutils literal notranslate"><span class="pre">true</span></code> или отсутствует, то новое правило будет добавлено сразу после указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>. Если <code class="docutils literal notranslate"><span class="pre">false</span></code> - на месте указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>.</p></li>
</ul>
</li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;accept&quot;</span> <span class="o">|</span> <span class="s2">&quot;drop&quot;</span> <span class="o">|</span> <span class="s2">&quot;dnat&quot;</span> <span class="o">|</span> <span class="s2">&quot;snat&quot;</span> <span class="p">(</span><span class="s2">&quot;mark_log&quot;</span> <span class="o">|</span> <span class="s2">&quot;mark_not_log&quot;</span> <span class="n">для</span> <span class="n">раздела</span> <span class="n">Логирование</span><span class="p">),</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;destination_addresses&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;destination_addresses_negate&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;destination_ports&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;hip_profiles&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;incoming_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;outgoing_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;protocol&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;source_addresses&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;source_addresses_negate&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;timetable&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Редактирование правила</summary>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/firewall/rules/forward/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел FORWARD;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/firewall/rules/input/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел INPUT;`</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/firewall/rules/dnat/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/firewall/rules/snat/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/firewall/rules/log/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел Логирование.</p></li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;accept&quot;</span> <span class="o">|</span> <span class="s2">&quot;drop&quot;</span> <span class="o">|</span> <span class="s2">&quot;dnat&quot;</span> <span class="o">|</span> <span class="s2">&quot;snat&quot;</span> <span class="p">(</span><span class="s2">&quot;mark_log&quot;</span> <span class="o">|</span> <span class="s2">&quot;mark_not_log&quot;</span> <span class="n">для</span> <span class="n">раздела</span> <span class="n">Логирование</span><span class="p">),</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;destination_addresses&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;destination_addresses_negate&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;destination_ports&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;hip_profiles&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;incoming_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;outgoing_interface&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;protocol&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;source_addresses&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;source_addresses_negate&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;timetable&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>
    <span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос</strong>: 200 ОК</p>
</details>
<details>
<summary>Перемещение правила</summary>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/firewall/rules/forward/move</span></code> - раздел FORWARD;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/firewall/rules/input/move</span></code> - раздел INPUT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/firewall/rules/dnat/move</span></code> - раздел DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/firewall/rules/snat/move</span></code> - раздел SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/firewall/rules/log/move</span></code> - раздел Логирование.</p></li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;anchor_item_id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;insert_after&quot;</span><span class="p">:</span> <span class="n">boolean</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - идентификатор перемещаемого правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code> - идентификатор правила, ниже или выше которого нужно поместить перемещаемое правило;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insert_after</span></code> - вставка до или после. Если <code class="docutils literal notranslate"><span class="pre">true</span></code>, то вставить правило сразу после указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>, если <code class="docutils literal notranslate"><span class="pre">false</span></code> - на месте указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>.</p></li>
</ul>
</details>
<details>
<summary>Удаление правила</summary>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/firewall/rules/forward/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел FORWARD;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/firewall/rules/input/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел INPUT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/firewall/rules/dnat/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/firewall/rules/snat/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/firewall/rules/log/&lt;id</span> <span class="pre">правила&gt;</span></code> - раздел Логирование.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
</section>
<section id="id6">
<h3><span class="section-number">1.2.3. </span>Счетчик срабатывания правил<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<details>
<summary>Узнать, включен ли счетчик срабатываний правил</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">firewall</span><span class="o">/</span><span class="n">watch</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span> <span class="p">(</span><span class="n">true</span> <span class="o">-</span> <span class="n">если</span> <span class="n">счетчик</span> <span class="n">включен</span><span class="p">,</span> <span class="n">false</span> <span class="o">-</span> <span class="n">если</span> <span class="n">выключен</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Включение/выключение счетчика срабатывания правил</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">firewall</span><span class="o">/</span><span class="n">watch</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span> <span class="p">(</span><span class="n">true</span> <span class="o">-</span> <span class="n">чтобы</span> <span class="n">включить</span><span class="p">,</span> <span class="n">false</span> <span class="o">-</span> <span class="n">чтобы</span> <span class="n">выключить</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
<details>
<summary>Получение счетчиков по правилам</summary>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/counters/forward</span></code> - раздел FORWARD;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/counters/input</span></code> - раздел INPUT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/counters/dnat</span></code> - раздел DNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/counters/snat</span></code> - раздел SNAT;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/firewall/rules/log</span></code> - раздел Логирование.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
   <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
      <span class="s2">&quot;packets&quot;</span><span class="p">:</span> <span class="nb">int</span> <span class="p">(</span><span class="n">количество</span> <span class="n">сработок</span> <span class="n">правила</span><span class="p">)</span>
   <span class="p">},</span>
   <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</details>
</section>
</section>
<section id="id7">
<h2><span class="section-number">1.3. </span>Контроль приложений<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<details>
<summary>Получение списка всех правил</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">application_control_backend</span><span class="o">/</span><span class="n">rules</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="p">{</span>
        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># [&quot;drop&quot;|&quot;accept&quot;]</span>
        <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;protocols&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">action</span></code> - действие, применяемое к правилу;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - алиасы, которые используются в правиле (например, any);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - комментарий правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - статус правила (true - включено, false - отключено);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - имя правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent_id</span></code> - идентификатор родительской группы серверов;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">protocols</span></code> - список протоколов;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный номер правила.</p></li>
</ul>
</details>
<details>
<summary>Создание нового правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">application_control_backend</span><span class="o">/</span><span class="n">rules</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># [&quot;drop&quot;|&quot;accept&quot;],</span>
<span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="s2">&quot;aliases&quot;</span><span class="p">:[</span><span class="nb">str</span><span class="p">],</span>
<span class="s2">&quot;protocols&quot;</span><span class="p">:[</span><span class="nb">str</span><span class="p">],</span>
<span class="s2">&quot;enabled&quot;</span><span class="p">:</span><span class="nb">bool</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">action</span></code> - действие, применяемое к правилу;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - алиасы, которые используются в правиле (например, any);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - комментарий правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - статус правила (true - включено, false - отключено);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - имя правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent_id</span></code> - идентификатор родительской группы серверов;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">protocols</span></code> - список протоколов;</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный номер созданного правила.</p></li>
</ul>
</details>
<details>
<summary>Изменение правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">application_control_backend</span><span class="o">/</span><span class="n">rules</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный номер правила;</p></li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span><span class="p">,</span>
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;str&quot;</span><span class="p">],</span>
    <span class="s2">&quot;protocols&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;str&quot;</span><span class="p">],</span>
    <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># [&quot;drop&quot;|&quot;accept&quot;],</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">action</span></code> - действие, применяемое к правилу;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - алиасы, которые используются в правиле (например, any);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - комментарий правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - статус правила (true - включено, false - отключено);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - имя правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent_id</span></code> - идентификатор родительской группы серверов;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">protocols</span></code> - список протоколов;</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
<details>
<summary>Изменение приоритета правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">application_control_backend</span><span class="o">/</span><span class="n">rules</span><span class="o">/</span><span class="n">move</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;anchor_item_id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;insert_after&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code> - уникальный идентификатор правила, ниже или выше которого нужно создать новое;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insert_after</span></code> - вставка до или после. Если True, то вставить правило сразу после указанного в anchor_item_id, если False, то на месте указанного в anchor_item_id.</p></li>
</ul>
</details>
<details>
<summary>Удаление правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">application_control_backend</span><span class="o">/</span><span class="n">rules</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный номер правила, которое нужно удалить.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
</section>
<section id="id8">
<h2><span class="section-number">1.4. </span>Предотвращение вторжений<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<details>
<summary>Получение статуса модуля</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`GET /ips/status`
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="c1"># [&quot;active&quot;|&quot;activating&quot;|&quot;deactivating&quot;|&quot;failed&quot;|&quot;inactive&quot;|&quot;reloading&quot;],</span>
        <span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;str&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - название демона;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">status</span></code> - статус;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">msg</span></code> - cписок сообщений, объясняющий текущее состояние.</p></li>
</ul>
</details>
<details>
<summary>Статус обновления баз правил сурикаты и GeoIP</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">update</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;up_to_date&quot;</span><span class="o">|</span><span class="n">updating</span><span class="o">|</span><span class="n">failed_to_update</span><span class="o">|</span><span class="n">disabled</span><span class="s2">&quot;]</span>
    <span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="s2">&quot;i18n_str&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_update&quot;</span><span class="p">:</span> <span class="s2">&quot;float|null&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">status</span></code> - текущий статус обновления баз:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">up_to_date</span></code> - базы успешно обновлены;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updating</span></code> - скачиваем новые базы;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">failed_to_update</span></code> - последняя попытка обновления баз завершилась неудачно;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">disabled</span></code> - обновление баз выключено.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">msg</span></code> - текстовое описание статуса обновления баз, переведённое на бэкенде;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_update</span></code> - время (таймстамп) последнего успешного обновления баз.</p></li>
</ul>
</details>
<details>
<summary>Статус обновления расширенных баз  правил сурикаты и GeoIP</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">update_advanced</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;up_to_date&quot;</span><span class="o">|</span><span class="s2">&quot;updating&quot;</span><span class="o">|</span><span class="s2">&quot;failed_to_update&quot;</span><span class="o">|</span><span class="s2">&quot;disabled&quot;</span><span class="p">],</span>
    <span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="s2">&quot;i18n_str&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_update&quot;</span><span class="p">:</span> <span class="s2">&quot;float|null&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">status</span></code> - текущий статус обновления баз:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">up_to_date</span></code> - базы успешно обновлены;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updating</span></code> - скачиваем новые базы;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">failed_to_update</span></code> - последняя попытка обновления баз завершилась неудачно;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">disabled</span></code> - обновление баз выключено.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">msg</span></code> - текстовое описание статуса обновления баз, переведённое на бэкенде;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_update</span></code> - время (таймстамп) последнего успешного обновления баз.</p></li>
</ul>
</details>
<details>
<summary>Запуск принудительного обновления баз</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">update</span>
</pre></div>
</div>
<p><strong>Тело запроса пустое.</strong></p>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Получение текущей настройки включенности модуля</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - <code class="docutils literal notranslate"><span class="pre">true</span></code> если модуль включен, <code class="docutils literal notranslate"><span class="pre">false</span></code> - если выключен</p></li>
</ul>
</details>
<details>
<summary>Изменение настройки включенности модуля</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - <code class="docutils literal notranslate"><span class="pre">true</span></code> если модуль включен, <code class="docutils literal notranslate"><span class="pre">false</span></code> - если выключен</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Получение списка локальных подсетей</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">nets</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор подсети;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">address</span></code> - подсеть (например «192.168.0.0/16»).</p></li>
</ul>
</details>
<details>
<summary>Добавление новой локальной подсети</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">nets</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">address</span></code> - подсеть (например «192.168.0.0/16»).</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор подсети;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">address</span></code> - подсеть (например «192.168.0.0/16»).</p></li>
</ul>
</details>
<details>
<summary>Удаление локальной подсети</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">nets</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор подсети</p>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Получение списка наборов правил</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">rules</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span>
<span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор набора правил;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - название (имя файла) набора правил;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - состояние набора правил: включен/выключен.</p></li>
</ul>
</details>
<details>
<summary>Включение/выключение набора правил</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">rules</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор набора правил</p>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Получение содержимого правила по sid</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">rules</span><span class="o">/</span><span class="n">sid</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> - sid правила</p>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;rule&quot;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rule</span></code> - текст правила. Если правило не найдено - пустая строка.</p></li>
</ul>
</details>
<details>
<summary>Получение списка всех исключений</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">disabled_rules</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">&quot;sid&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sid</span></code> - уникальный идентификатор правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание, может быть пустым, максимальная длина 256;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор правила на NGFW.</p></li>
</ul>
</details>
<details>
<summary>Добавление исключения</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">disabled_rules</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;sid&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sid</span></code> - уникальный идентификатор правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание, может быть пустым, максимальная длина 256;</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span> 
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Редактирование описания существующего исключения</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">disabled_rules</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор правила (не sid).</p></li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;sid&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sid</span></code> - уникальный идентификатор правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание, может быть пустым, максимальная длина 256;</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Удаление существующего исключения</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">disabled_rules</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор правила (не sid).</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Получение списка исключений алиасов</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">bypass</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="nb">str</span> <span class="p">],</span>
        <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - id исключения;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - список id алиасов. Допустимые типы: IP-адрес, Диапазон IP-адресов, Список IP-объектов, Список IP-адресов, Подсеть, Домен, Пользователь, Группа;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание, может быть пустым, максимальная длина 256;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - состояние исключения: включено/выключено.</p></li>
</ul>
</details>
<details>
<summary>Добавление исключения алиасов</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">bypass</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - список id алиасов. Допустимые типы: IP-адрес, Диапазон IP-адресов, Список IP-объектов, Список IP-адресов, Подсеть, Домен, Пользователь, Группа;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание, может быть пустым, максимальная длина 256;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - состояние исключения: включено/выключено.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор созданного исключения.</p></li>
</ul>
</details>
<details>
<summary>Изменение исключения алиасов</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">bypass</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор созданного исключения.</p></li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - список id алиасов. Допустимые типы: IP-адрес, Диапазон IP-адресов, Список IP-объектов, Список IP-адресов, Подсеть, Домен, Пользователь, Группа;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание, может быть пустым, максимальная длина 256;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - состояние исключения: включено/выключено.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Удаление существующего исключения алиасов</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">ips</span><span class="o">/</span><span class="n">bypass</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - уникальный идентификатор исключения.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
</section>
<section id="id9">
<h2><span class="section-number">1.5. </span>Контент-фильтр<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<details>
<summary>Включение/выключение Контент-фильтра</summary>
<section id="id10">
<h3><span class="section-number">1.5.1. </span>Проверить включенность<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3><span class="section-number">1.5.2. </span>Включить/выключить Контент-фильтр<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
</section>
<section id="id12">
<h3><span class="section-number">1.5.3. </span>Настройки<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<details>
<summary>Получение настроек</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">settings</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled_extended_categorizer&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;quic_reject_enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enabled_extended_categorizer</span></code> - расширенная категоризация (SkyDNS) включена (true) или выключена (false);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quic_reject_enabled</span></code> - запрет трафика по протоколу QUIC включен (true) или выключен (false).</p></li>
</ul>
</details>
<details>
<summary>Изменение настроек</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">settings</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled_extended_categorizer&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
    <span class="s2">&quot;quic_reject_enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span> <span class="p">(</span><span class="n">Любое</span> <span class="n">из</span> <span class="n">полей</span> <span class="n">может</span> <span class="n">отсутствовать</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Получение настройки безопасного поиска</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">proxy_backend</span><span class="o">/</span><span class="n">safe_search</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Изменение настройки безопасного поиска</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">proxy_backend</span><span class="o">/</span><span class="n">safe_search</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
</section>
<section id="id13">
<h3><span class="section-number">1.5.4. </span>Категории Контент-фильтра<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<details>
<summary>Получение списка категорий (предустановленных и пользовательских)</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">categories</span>
</pre></div>
</div>
<p><strong>Json-тело ответа:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - номер категории в формате <code class="docutils literal notranslate"><span class="pre">users.id.1</span></code> или <code class="docutils literal notranslate"><span class="pre">extended.id.1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> - тип категории:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;users&quot;</span></code> - пользовательские категории;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;extended&quot;</span></code> - расширенные категории (SkyDNS);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;files&quot;</span></code> - категории для файлов;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;special&quot;</span></code> - специальные предопределенные категории:</p>
<ul>
<li><p>Прямое обращение по IP;</p></li>
<li><p>Все категоризированные запросы;</p></li>
<li><p>Все некатегоризированные запросы;</p></li>
<li><p>Все запросы (категоризированные и некатегоризированные).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;other&quot;</span></code> - остальные категории.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - имя категории (для отображения пользователю).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - описание категории (для отображения пользователю).</p></li>
</ul>
</details>
<details>
<summary>Получение списка пользовательских категорий</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">users_categories</span>
</pre></div>
</div>
<p><strong>Json-ответ на запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">(</span><span class="n">номер</span> <span class="n">категории</span><span class="p">,</span> <span class="n">вида</span> <span class="o">-</span> <span class="n">users</span><span class="o">.</span><span class="n">id</span><span class="mf">.1</span><span class="p">),</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">(</span><span class="n">название</span> <span class="n">категории</span><span class="p">,</span> <span class="n">не</span> <span class="n">пустая</span> <span class="n">строка</span><span class="p">),</span>
        <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;urls&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;urls&quot;</span></code> - список url. Либо полный путь до страницы, либо только доменное имя. В пути может присутствовать любое количество любых символов.</p></li>
</ul>
</details>
<details>
<summary>Создание пользовательской категории</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">users_categories</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;urls&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Редактирование пользовательских категорий</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">users_categories</span><span class="o">/</span><span class="p">{</span><span class="n">category_id</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;urls&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;urls&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
</section>
<section id="id14">
<h3><span class="section-number">1.5.5. </span>Правила Контент-фильтра<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<details>
<summary>Получение списка правил</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">rules</span>
</pre></div>
</div>
<p><strong>Json-тело ответа:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;allow&quot;</span> <span class="o">|</span> <span class="s2">&quot;deny&quot;</span> <span class="o">|</span> <span class="s2">&quot;bump&quot;</span> <span class="o">|</span> <span class="s2">&quot;redirect&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">],</span>
        <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">],</span>
        <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;redirect_url&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span> <span class="o">|</span> <span class="n">null</span><span class="p">,</span>
        <span class="s2">&quot;timetable&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">],</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - идентификатор правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent_id</span></code> - id группы в Ideco Center, в которую входит Ideco NGFW, или константа «f3ffde22-a562-4f43-ac04-c40fcec6a88c» (соответствует Корневой группе);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - название правила, не пустая строка;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - комментарий (макс. 256 символов), может быть пустым;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aliases</span></code> - список id алиасов (поле Применяется для);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">categories</span></code> - список id категорий сайтов;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">access</span></code> - действие, которое необходимо выполнить в правиле, строка, может принимать три значения:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">allow</span></code> - разрешить данный запрос;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deny</span></code> - запретить запрос и показать страницу блокировки;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bump</span></code>: расшифровать запрос;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">redirect</span></code>: перенаправить запрос на <code class="docutils literal notranslate"><span class="pre">redirect_url</span></code>;</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">redirect_url</span></code> - URL, на который перенаправляются запросы. <code class="docutils literal notranslate"><span class="pre">String</span></code> при <code class="docutils literal notranslate"><span class="pre">access</span></code> = <code class="docutils literal notranslate"><span class="pre">redirect</span></code> и <code class="docutils literal notranslate"><span class="pre">null</span></code> при остальных вариантах <code class="docutils literal notranslate"><span class="pre">access</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code>: правило включено (true) или выключено (false);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timetable</span></code> - время действия, список ID алиасов.</p></li>
</ul>
</details>
<details>
<summary>Создание правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>POST /content-filter/rules?anchor_item_id=123&amp;insert_after={true|false}
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code> - идентификатор правила, ниже или выше которого нужно создать новое. Если отсутствует, то новое правило будет добавлено в конец таблицы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insert_after</span></code> - вставка до или после. Если значение <code class="docutils literal notranslate"><span class="pre">true</span></code> или отсутствует, то новое правило будет добавлено сразу после указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>. Если <code class="docutils literal notranslate"><span class="pre">false</span></code> - на месте указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>.</p></li>
</ul>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;allow|deny|bump|redirect&quot;</span><span class="p">,</span>
    <span class="s2">&quot;redirect_url&quot;</span><span class="p">:</span> <span class="s2">&quot;string|null&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timetable&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Редактирование правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">rules</span><span class="o">/&lt;</span><span class="nb">id</span> <span class="n">правила</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;allow|deny|bump|redirect&quot;</span><span class="p">,</span>
    <span class="s2">&quot;redirect_url&quot;</span><span class="p">:</span> <span class="s2">&quot;string|null&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timetable&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;string&quot;</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
<details>
<summary>Перемещение правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">rules</span><span class="o">/</span><span class="n">move</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;anchor_item_id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s2">&quot;insert_after&quot;</span><span class="p">:</span> <span class="n">boolean</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - идентификатор правила;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code> - идентификатор правила, ниже или выше которого нужно вставить правило, которое перемещаем;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insert_after</span></code> - вставка до или после. Если <code class="docutils literal notranslate"><span class="pre">true</span></code>, то правило будет вставлено сразу после указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>, если <code class="docutils literal notranslate"><span class="pre">false</span></code> - на месте указанного в <code class="docutils literal notranslate"><span class="pre">anchor_item_id</span></code>.</p></li>
</ul>
<p><strong>Ответ на успешный запрос:</strong> 200 OK</p>
</details>
<details>
<summary>Удаление правила</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">content</span><span class="o">-</span><span class="nb">filter</span><span class="o">/</span><span class="n">rules</span><span class="o">/&lt;</span><span class="nb">id</span> <span class="n">правила</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
</section>
</section>
<section id="id15">
<h2><span class="section-number">1.6. </span>Квоты<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<details>
<summary>Проверить, включен ли подсчет квот</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">quotas</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Включить/выключить подсчет квот</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PUT</span> <span class="o">/</span><span class="n">quotas</span><span class="o">/</span><span class="n">state</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
<details>
<summary>Получение списка квот</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">quotas</span><span class="o">/</span><span class="n">quotas</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quota&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
    <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="s2">&quot;hour&quot;</span> <span class="o">|</span> <span class="s2">&quot;day&quot;</span> <span class="o">|</span> <span class="s2">&quot;week&quot;</span> <span class="o">|</span> <span class="s2">&quot;month&quot;</span> <span class="o">|</span> <span class="s2">&quot;quarter&quot;</span>
  <span class="p">},</span>
  <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code> - идентификатор квоты;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code> - название квоты (максимальная длина 42 символа);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - комментарий (максимальная длина 256 символов)%</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quota</span></code> - ограничение трафика в байтах;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code> - применяется ли квота;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">interval</span></code> - период действия квоты (час, день, неделя, месяц, квартал).</p></li>
</ul>
</details>
<details>
<summary>Создание квоты</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">POST</span> <span class="o">/</span><span class="n">quotas</span><span class="o">/</span><span class="n">quotas</span>
</pre></div>
</div>
<p><strong>Json-тело запроса:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
  <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
  <span class="s2">&quot;quota&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
  <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
<summary>Редактирование квоты</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATCH</span> <span class="o">/</span><span class="n">quotas</span><span class="o">/</span><span class="n">quotas</span><span class="o">/&lt;</span><span class="nb">id</span> <span class="n">квоты</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Json-тело запроса (все или некоторые поля):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
  <span class="s2">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
  <span class="s2">&quot;quota&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">boolean</span><span class="p">,</span>
  <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details>
<details>
<summary>Удаление квоты</summary>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DELETE</span> <span class="o">/</span><span class="n">quotas</span><span class="o">/</span><span class="n">quotas</span><span class="o">/&lt;</span><span class="nb">id</span> <span class="n">квоты</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Ответ на успешный запрос:</strong> 200 ОК</p>
</details></section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="user-management-api.html"
       title="предыдущая страница">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">назад</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Управление пользователями и группами</p>
      </div>
    </a>
    <a class="right-next"
       href="dhcp-api.html"
       title="следующая страница">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">вперёд</p>
        <p class="prev-next-title"><span class="section-number">1. </span>DHCP-сервер</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Содержание
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1.1. Файрвол</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">1.2. Включенность пользовательских правил</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">1.2.1. Логирование правил</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">1.2.2. Управление правилами</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">1.2.3. Счетчик срабатывания правил</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">1.3. Контроль приложений</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">1.4. Предотвращение вторжений</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">1.5. Контент-фильтр</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">1.5.1. Проверить включенность</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">1.5.2. Включить/выключить Контент-фильтр</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">1.5.3. Настройки</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">1.5.4. Категории Контент-фильтра</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">1.5.5. Правила Контент-фильтра</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">1.6. Квоты</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
По Ideco
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Копирайт 2024, Ideco.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=3ee479438cf8b5e0d341"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=3ee479438cf8b5e0d341"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>